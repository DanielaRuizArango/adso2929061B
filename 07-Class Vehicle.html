figure.character {
    background: url(images/character/bg-light.svg) no-repeat center;
    border-radius: 20px;
    padding: 0;
    position: relative;
    margin: 0;
    height: 600px;
    width: 350px;

    .container {
        width: 100%;
        height: 100%;
        position: relative;
        overflow: hidden;
    }

    .parallax {
        width: 100vw;
        height: 100vh;
        background-image: url(images/sky3.png);
        background-repeat: repeat-x;
        animation: moveBackground 40s linear infinite;
    }
}

@keyframes moveBackground {
    from {
        background-position: 0 0;
    }

    to {
        background-position: 1000% 0;
    }
}

// Estos botones existen en el HTML pero no tienen eventos asociados
const btnPowerOn = document.querySelector(".btn-power-on");
const btnForward = document.querySelector(".btn-forward");
const btnStop = document.querySelector(".btn-stop");
const btnBackward = document.querySelector(".btn-backward");
const btnPowerOff = document.querySelector(".btn-power-off");

// Agregar event listeners para los botones de control
btnPowerOn.addEventListener("click", () => {
    car.powerOn();
});

btnPowerOff.addEventListener("click", () => {
    car.powerOff();
});

// Error 1: Hay una variable 'car' declarada dos veces
// let car = new Character(
//     character.attrs[inx].name,
//     character.attrs[inx].personality,
//     character.attrs[inx].color,
//     character.attrs[inx].power,
//     character.attrs[inx].image
// );
// girl.displayData();

// Error 3: Esta es la segunda declaración de 'car' que causa conflicto
// let car = new Character(
//     character.attrs[inx].name,
//     character.attrs[inx].personality,           
//     character.attrs[inx].color,
//     character.attrs[inx].power
//     // Error 4: Falta el parámetro 'image'
// );
// car.displayData();

let girl = new Character(
    character.attrs[inx].name,
    character.attrs[inx].personality,           
    character.attrs[inx].color,
    character.attrs[inx].power,
    character.attrs[inx].image  // Añadir la imagen que faltaba
);
girl.displayData();

btnNext.addEventListener("click", () => {
    if (inx < character.attrs.length - 1) {
        ++inx;
        btnPrev.style.opacity = "1";
        btnPrev.style.pointerEvents = "all";
        girl.name = character.attrs[inx].name;
        girl.personality = character.attrs[inx].personality;
        girl.color = character.attrs[inx].color;
        girl.power = character.attrs[inx].power;
        girl.image = character.attrs[inx].image;
        girl.displayData();
        if (inx == character.attrs.length - 1) {
            btnNext.style.opacity = "0.2";
            btnNext.style.pointerEvents = "none";
        }
    }
});

btnPrev.addEventListener("click", () => {
    if (inx > 0) {
        --inx;
        btnNext.style.opacity = "1";
        btnNext.style.pointerEvents = "all";
        girl.name = character.attrs[inx].name;
        girl.personality = character.attrs[inx].personality;
        girl.color = character.attrs[inx].color;
        girl.power = character.attrs[inx].power;
        girl.image = character.attrs[inx].image;
        girl.displayData();
        if (inx == 0) {
            btnPrev.style.opacity = "0.2";
            btnPrev.style.pointerEvents = "none";
        }
    }
}); 